<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.geometry.Insets?>
<?import java.net.URL?>
<?import javafx.scene.control.cell.PropertyValueFactory?>

<BorderPane prefHeight="700.0" prefWidth="1000.0" xmlns="http://javafx.com/javafx/17"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.bankapp.frontend.controller.DashboardController">

    <stylesheets>
        <URL value="@../css/styles.css" />
    </stylesheets>

    <left>
        <VBox spacing="20" prefWidth="250" styleClass="sidebar">
            <ImageView fitHeight="50" preserveRatio="true">
                <Image url="@../assets/images/logo.jpeg" />
                <VBox.margin><Insets top="20" left="20" bottom="20"/></VBox.margin>
            </ImageView>

            <Button text="Dashboard" styleClass="sidebar-btn-active" maxWidth="Infinity"/>
            <Button text="Transfer Money" onAction="#handleTransferNavigation" styleClass="sidebar-btn" maxWidth="Infinity"/>
            <Button text="Transactions" styleClass="sidebar-btn" maxWidth="Infinity"/>
            <Button text="Settings" styleClass="sidebar-btn" maxWidth="Infinity"/>

            <Region VBox.vgrow="ALWAYS" />
            <Button text="Logout" styleClass="sidebar-btn-logout" maxWidth="Infinity" onAction="#handleLogout"/>
        </VBox>
    </left>

    <center>
        <VBox spacing="20" style="-fx-padding: 30;">
            <HBox alignment="CENTER_LEFT">
                <children>
                    <Label fx:id="welcomeLabel" text="Welcome back!" style="-fx-font-size: 24; -fx-font-weight: bold;"/>
                    <Region HBox.hgrow="ALWAYS" />
                    <Label fx:id="topAccountLabel" text="Account: ---"
                           style="-fx-font-size: 14; -fx-text-fill: #7f8c8d; -fx-font-style: italic;"/>
                </children>
            </HBox>

            <HBox spacing="15">
                <VBox styleClass="card" prefWidth="220" spacing="5">
                    <Label text="Checking Account" style="-fx-text-fill: #7f8c8d;"/>
                    <Label fx:id="checkingAccNumLabel" text="Acc: ---" style="-fx-font-size: 11; -fx-text-fill: #95a5a6;"/>
                    <Label fx:id="checkingBalanceLabel" text="\$0.00" style="-fx-font-size: 20; -fx-font-weight: bold;"/>
                </VBox>
                <VBox styleClass="card" prefWidth="220" spacing="5">
                    <Label text="Savings Account" style="-fx-text-fill: #7f8c8d;"/>
                    <Label fx:id="savingsAccNumLabel" text="Acc: ---" style="-fx-font-size: 11; -fx-text-fill: #95a5a6;"/>
                    <Label fx:id="savingsBalanceLabel" text="\$0.00" style="-fx-font-size: 20; -fx-font-weight: bold;"/>
                </VBox>
                <VBox styleClass="card" prefWidth="220" spacing="5">
                    <Label text="Investment Account" style="-fx-text-fill: #7f8c8d;"/>
                    <Label fx:id="investmentAccNumLabel" text="Acc: ---" style="-fx-font-size: 11; -fx-text-fill: #95a5a6;"/>
                    <Label fx:id="investmentBalanceLabel" text="\$0.00" style="-fx-font-size: 20; -fx-font-weight: bold;"/>
                </VBox>
            </HBox>

            <VBox style="-fx-background-color: #1e3a52; -fx-padding: 20; -fx-background-radius: 10;">
                <HBox alignment="CENTER_LEFT">
                    <Label text="Total Balance" style="-fx-text-fill: white; -fx-font-size: 14;"/>
                    <Region HBox.hgrow="ALWAYS" />
                    <Label text="Across all accounts" style="-fx-text-fill: #bdc3c7; -fx-font-size: 12;"/>
                </HBox>
                <Label fx:id="totalBalanceLabel" text="\$0.00" style="-fx-text-fill: white; -fx-font-size: 28; -fx-font-weight: bold;"/>
            </VBox>

            <VBox spacing="10" VBox.vgrow="ALWAYS" styleClass="card">
                <Label text="Recent Activity" style="-fx-font-size: 18; -fx-font-weight: bold;"/>
                <TableView fx:id="transactionTable" prefHeight="200.0" prefWidth="750.0">
                    <columns>
                        <TableColumn fx:id="colDate" text="Date" prefWidth="150">
                            <cellValueFactory><PropertyValueFactory property="formattedDate"/></cellValueFactory>
                        </TableColumn>
                        <TableColumn fx:id="colDescription" text="Description" prefWidth="450">
                            <cellValueFactory><PropertyValueFactory property="description"/></cellValueFactory>
                        </TableColumn>
                        <TableColumn fx:id="colAmount" text="Amount" prefWidth="150">
                            <cellValueFactory><PropertyValueFactory property="amount"/></cellValueFactory>
                        </TableColumn>
                    </columns>
                </TableView>
            </VBox>
        </VBox>
    </center>
</BorderPane>